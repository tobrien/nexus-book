<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.discursive.com/docbook/xml/4.5/docbookx.dtd">
<appendix id="appendix-contribute">
  <title>Contributing to the Nexus Book</title>

  <para>This appendix covers the basics of contributing to the book you are
  currently reading. This book is an open source project, you can participate
  in the writing effort if you have an idea for documentation, or you can use
  the source code of this book as an example of how to build a book with
  Maven. Sonatype's books are different: they are open writing efforts and we
  see documentation contributions as having equal value to code contributions.
  If you are interested in our technology, we'd welcome your
  contribution.</para>

  <section>
    <title>Contributor License Agreement (CLA)</title>

    <para>In order to contrbute to the Nexus book, you will first need to fill
    out a contributor license agreement. This is a legal agreement between you
    and Sonatype which ensures that your contributions are not covered by any
    other legal requirements. Sonatype requires contributors to sign this
    agreement for all major contributions which are larger than a single
    section. If your contribution consists of finding and fixing simple typos
    or suggesting minor changes to the wording or sequence of a particular
    section, you can contribute these changes via the Sonatype JIRA instance.
    If you contribution involves direct contribution of a number of sections
    or chapters you will first need to sign our Contributor License Agreement
    (CLA).</para>

    <para>To download the CLA from the following URL: <ulink
    url="http://www.sonatype.org/SonatypeCLA.pdf">http://www.sonatype.org/SonatypeCLA.pdf</ulink></para>

    <para>Once you have completed and signed this document, you can fax it to:
    (650) 472-9197</para>
  </section>

  <section>
    <title>Contributors, Authors, and Editors</title>

    <para>As with any open source effort, the contributors to the Nexus book
    are grouped into a simple hierarchy. Sonatype's writing efforts are
    loosely structured, but we have found it necessary to define some formal
    categories for contributors.</para>

    <variablelist>
      <varlistentry>
        <term>Reviewers</term>

        <listitem>
          <para>Many individuals have read the book and taken the time to
          report typos and bugs. Reviewers are always credited in the Foreword
          of the book and they make an important contribution to the quality
          of the book.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Contributors</term>

        <listitem>
          <para>Contributors are individuals who have contributed one or more
          sections to the book. Many contributors make a one time contribution
          to a particular section or collection of sections. Contributors are
          always credited in the Foreword of the book, and if a contributor
          sustains a constant level of contribution which adds up to the
          equivalent of an entire chapter, a contributors name will be added
          to the list of contributing authors.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Authors</term>

        <listitem>
          <para>Authors have made a significant contribution to the book equal
          to the equivalent of one or more chapters. A long-time contributor
          can also be transitioned to the status of Author at the discretion
          of an Editor. Authors are often given editorial control over
          specific chapters or sections of a book, working with Contributors
          to review, accept, and refine contributions to defined sections of
          the book.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Editors</term>

        <listitem>
          <para>An Author can also be an Editor. Each book has at least one
          editor (and ideally no more than two Editors at any time). On
          Sonatype Open book projects, Editors are the arbiters of content,
          they review content submissions and make final decisions about
          content direction.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para>For each of these levels, the adjective "Active" can be used if a
    contributor, author, or editor has been active during the previous 12
    months. If you have any questions about contributor status, send any
    inquiries to <ulink
    url="mailto:book@sonatype.com">book@sonatype.com</ulink>.</para>
  </section>

  <section>
    <title>Tools Used to Build and Write this Book</title>

    <para>The following tools are used to write this book. If you are
    interested in contributing to this book, you will need to download the
    following software:</para>

    <variablelist>
      <varlistentry>
        <term>Apache Maven</term>

        <listitem>
          <para>Of course we use Maven to build the book. We're always
          updating our book builds to use the latest production-ready version
          of Maven, so feel free to download and install the latest available
          version.</para>

          <para>To download Maven, go to <ulink
          url="http://maven.apache.org">http://maven.apache.org</ulink> and
          click on Downloads.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>XMLmind XML Editor</term>

        <listitem>
          <para>Whie there are many Docbook-capable XML Editors on the market,
          XMLmind is one of the more capable, "WYSIWYG" Docbook editors on the
          market. This means that the experience is more like a modern
          word-processor and less like an "XML Editor". That being said,
          XMLmind can take some getting used to. For a good introduction to
          some of the more "ergonomic" approaches to using this tool, see
          James Elliott's <ulink
          url="http://www.xml.com/pub/a/2007/06/20/getting-productive-with-xmlmind.html">"Getting
          Productive with XMLmind"</ulink> article on the O'Reilly
          site.</para>

          <para>If you are new to Docbook, you will need to invest a day or
          two experimenting with key shortcuts. Don't approach this tool as
          just another "word processor" as you are guaranteed come away from
          the experience frustrated and disappointed. The process of writing a
          Word document is straightforward. The process of writing a technical
          book with all of the associated inline markup and semantic "stuff"
          that goes into making this a value reference is an order of
          magnitude more involved than what you might be used to. Just give
          yourself time to learn the tool. In six months, you won't be able to
          write without it.</para>

          <para>To Download XMLmind XML Editor, go to <ulink
          url="http://www.xmlmind.com/xmleditor/">http://www.xmlmind.com/xmleditor/</ulink>.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Git</term>

        <listitem>
          <para>Sonatype stores the source code for all books in Github so you
          will need to download Git. In addition to downloading Git, if you
          need read/write access to the repository you will also need to sign
          up for an account on GitHub (<ulink
          url="http://www.github.com">http://www.github.com</ulink>).</para>

          <para>Download the latest version of Git from <ulink
          url="http://git-scm.com/">http://git-scm.com/</ulink></para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para>This next set of tools are optional, and are only required if you
    are involved in generating diagrams or formatting the final PDF for the
    pre-print production process. In short, there is only one or two people
    who will need to have access to the following set of tools, and, in a
    normal publishing house, all of these functions would likely be performed
    by a separate "Production" team.</para>

    <variablelist>
      <varlistentry>
        <term>Omigraffle</term>

        <listitem>
          <para>Many of the diagrams in this book have been generated using a
          OSX-specific tool named Omnigraffle.</para>

          <para>If you are interested in helping us create diagrams don't feel
          compelled to purchase a copy of Omnigraffle. Send us a rough outline
          of your diagram, and Sonatype will gladly transform your idea into a
          diagram if your contributions are accepted into the book.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Adobe Photoshop</term>

        <listitem>
          <para>All of the screenshots are generated using simple screen
          capture tools. The resulting raw images (PNGs) are then processed
          using a set of very simple Photoshop macros. These macros add a
          border to each screenshot and apply a standard drop shadow. Once the
          drop shadow has been applied, these macros then save a 72 dpi PNG
          image for the HTML version of the book in addition to a 150 dpi PDF
          image for the printed version of the book,</para>

          <para>While Adobe Photoshop is a capable (and somewhat formidable)
          graphics manipulation tool, Sonatype is exploring alternatives to
          using this commercial utility in the content generation process.
          Alternatives currently being investigated are open source packages
          such as GIMP or systems which can rely on ImageMagick for scripted
          conversion of raw screenshots to multiple web and print image
          formats.</para>

          <note>
            <para>If you are interested in contributing, but you do not want
            to bother with the process of formatting images for both web and
            print, Sonatype welcomes contributions which include raw
            screencaptures. We can take care of the formatting.</para>
          </note>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Adobe Illustrator</term>

        <listitem>
          <para>The book cover, the promotional material insert, and the print
          binder for Lulu are all generated with Adobe Illustrator. Adobe
          Illustrator can open and edit PDFs natively, and can be used to
          generate the static PDFs which are concatenated together to produce
          the final book output.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>

  <section>
    <title>How to Build the Book</title>

    <para>You can probably guess what tool is used to build this book - Apache
    Maven. To build this book, follow these simple steps:</para>

    <procedure>
      <step>
        <para>Clone the book's Git repository. To clone this book's repository
        execute the following command at a command-line:</para>

        <screen>$ <command>git clone git@github.com:sonatype/nexus-book.git</command>
...a bunch of Git output...
</screen>

        <para>Running this command will create a subdirectory named nexus-book
        which is a copy of this book's source.</para>
      </step>

      <step>
        <para>Assuming you've already installed Apache Maven 3, change
        directories to the <filename>nexus-book/</filename> directory and run:
        <command>mvn clean install</command>.</para>

        <screen>$ <command>cd nexus-book</command>
$ <command>mvn clean install</command>
...5-10 minutes of Maven build output...</screen>
      </step>
    </procedure>

    <warning>
      <para>This project makes use of both the <sgmltag>repositories</sgmltag>
      and <sgmltag>pluginRepositories</sgmltag> element in the top-level POM.
      If you have configured your Maven Settings to point to Nexus, you may
      need to add the repositories listed in this POM to your Nexus
      group.</para>
    </warning>

    <para>Once the Maven build has completed, you can then access the
    following build artifacts:</para>

    <itemizedlist>
      <listitem>
        <para>The Nexus Book PDF can be found in
        <filename>nxbook-pdf/target</filename></para>
      </listitem>

      <listitem>
        <para>The Nexus Book ePub can be found in
        <filename>nxbook-epub/target</filename></para>
      </listitem>

      <listitem>
        <para>The Nexus Book HTML can be found in
        <filename>nxbook-html/target</filename></para>
      </listitem>
    </itemizedlist>
  </section>

  <section>
    <title>Book Project Layout</title>

    <para>The Nexus book is a multi-module project which contains the
    following projects:</para>

    <variablelist>
      <varlistentry>
        <term>nxbook-content</term>

        <listitem>
          <para>This project contains all of the book's source code and
          figures in <filename>src/main/resources</filename>. If you need to
          update the book's DocBook XML, you will find all of the Docbook XML
          in <filename>src/main/resources</filename>, and if you are
          manipulating figures, you will find these images under the
          <filename>src/main/resources/figs</filename> directory. The build
          output for this project is a JAR which contains the DocBook XML
          source and the figures.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>nxbook-examples</term>

        <listitem>
          <para>Since the Nexus book does not contain any example-driven
          content, this project is more of a placeholder for future
          expansion.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>nxbook-html</term>

        <listitem>
          <para>This project contains the HTML-specific XSL stylesheets and
          project configuration to apply the DocBook XSL stylesheets to the
          DocBook source content from nxbook-content. This project also
          contains some HTML-specific admonition graphics. The customization
          stylesheet and graphics are found in
          <filename>src/main/resources</filename>.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>nxbook-pdf</term>

        <listitem>
          <para>This project contains the PDF-specific XSL stylesheets, any
          pre-print assets such as covers, and any additional PDFs which are
          combined to produce the final, electronic output. All images, PDFs,
          and stylesheets can be found in
          <filename>src/main/resources</filename>.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>nxbook-epub</term>

        <listitem>
          <para>This project contains the ePub-specific XSL stylesheets. The
          ePub specific stylesheets can be found in
          <filename>src/main/resources</filename>.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>nxbook-site</term>

        <listitem>
          <para>This project combines all of the book projects into a single,
          deployable site and is only meant to be published by internal
          Sonatype resources. When the books are published, the build uses the
          Site plugin to perform a deployment using the Maven SSH
          Wagon.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>

  <section>
    <title>Subscribing to the Book Developers List</title>

    <para>Sonatype maintains a Book Developers mailing list as a single
    mailing list for contributors, authors, and editors working on any of our
    Sonatype Open Books. This is a high volume list which contains both
    discussion and automated emails from GitHub and our Sonatype Matrix
    continuous integration server.</para>

    <para>To subscribe to this mailing list, send and email to: <ulink
    url="mailto:book-dev-subscribe@sonatype.org">book-dev-subscribe@sonatype.org</ulink></para>
  </section>
</appendix>
